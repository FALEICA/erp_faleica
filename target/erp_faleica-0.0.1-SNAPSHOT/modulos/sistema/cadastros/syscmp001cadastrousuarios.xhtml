<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="../../../WEB-INF/template/layout.xhtml">

	<ui:define name="conteudo">
	
	<h:form>
		<div class="card">
			<p:dataTable 
				id="dt_iduser"
				var="dtuser"
				widgetVar="dtusers"
				value="#{cadUserBean.listUser}"
				rowKey="#{dtuser.usu_Id}"
				paginator="true"
				paginatorPosition="bottom"
				rows="5"
				size="small"
				rowSelectMode="add"	
				
				
			>
					<p:column selectionMode="single" exportable="false"></p:column>
			
					<p:column headerText="Codigo">
						<h:outputText value="#{dtuser.usu_Cod}" />				
					</p:column>
					<p:column headerText="Usuario">
						<h:outputText value="#{dtuser.usu_Login}" />				
					</p:column>
					<p:column headerText="Email">
						<h:outputText value="#{dtuser.usu_Email}" />				
					</p:column>
					
					<p:column>
						<p:commandButton 
							icon="pi pi-pencil"
							styleClass="edit-button rounded-button ui-button-success"
							update=":dialog:cadatro-usuario"
							oncomplete="PF('manageProductDialog').show()"
							process="@this"
						>
							<f:setPropertyActionListener value="#{dtuser}" target="#{cadUserBean.selectedUser}" />
							<p:resetInput target=":dialog:cadatro-usuario"/>
							
						
						</p:commandButton>
						<p:commandButton 
							icon="pi pi-trash"
							styleClass="ui-button-warning rounded-button"
						>
						
						</p:commandButton>
					</p:column>
			</p:dataTable>		
		</div>	
	</h:form>
	
	<h:form id="dialog">
		<p:dialog 
			header="CADASTRO" 
			showEffect="fade" 
			modal="true" 
			responsive="true"
			widgetVar="manageProductDialog"
			
		>
		<p:outputPanel id="cadatro-usuario" class="ui-fluid">
				<p:outputPanel rendered="#{not empty cadUserBean.selectedUser}">
					<div class="field">
						<p:outputLabel for="usu_Cod">Codigo</p:outputLabel>
						<p:inputText id="usu_Cod" value="#{cadUserBean.selectedUser.usu_Cod}" required="true"/>
					</div>
					<div class="field">
						<p:outputLabel for="usu_Login">Login</p:outputLabel>
						<p:inputText id="usu_Login" value="#{cadUserBean.selectedUser.usu_Login}" required="true"/>
					</div>
					<div class="field">
						<p:outputLabel for="usu_Email">E-mail</p:outputLabel>
						<p:inputText id="usu_Email" value="#{cadUserBean.selectedUser.usu_Email}" required="true"/>
					</div>
					<div class="field">
						<p:outputLabel for="usuPwd">E-mail</p:outputLabel>
						<p:inputText type="password" id="usuPwd" value="" required="true"/>
					</div>
					<div class="field">
						<p:outputLabel for="confirmPwd">E-mail</p:outputLabel>
						<p:inputText type="password" id="confirmPwd" value="" required="true"/>
					</div>		
			
				</p:outputPanel>
				
			
			
			</p:outputPanel> 
		
		</p:dialog>	
	</h:form>
	

		
	</ui:define>
</ui:composition>
